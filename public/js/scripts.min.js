const addBills=document.querySelector(".add-bill"),billsList=document.querySelector(".bills-list");let bills=[];function addBill(e){""!==e&&(e={desc:e.desc,amount:e.amount,category:e.category,duedate:e.duedate,paid:e.paid,key:Date.now()},bills.push(e),addToLocalStorage(bills))}function renderBills(e){billsList.innerHTML="",e.forEach(e=>{const t=document.createElement("div");t.setAttribute("class","bill "+(e.paid?"paid":"due")),t.setAttribute("data-key",e.key),t.innerHTML=`
            <div class="bill-details">
                <div class="bill-name">
                    ${e.desc}
                </div>
                <div class="bill-category">
                    ${e.category}
                </div>
            </div>
            <div class="bill-details">
                <div class="bill-amount">
                    ${e.amount}
                </div>
                <div class="bill-duedate">
                    ${e.duedate}
                </div>
            </div>
            <div class="bill-actions">
                <button class="edit-button">Edit</button>
                <button class="delete-button">Delete</button>
            </div>
        `,billsList.append(t)})}function addToLocalStorage(e){localStorage.setItem("bills",JSON.stringify(e)),renderBills(e)}function getFromLocalStorage(){var e=localStorage.getItem("bills");e&&renderBills(bills=JSON.parse(e))}function deleteBill(t){addToLocalStorage(bills=bills.filter(e=>e.key!=t))}addBills.addEventListener("submit",e=>{e.preventDefault(),addBill({paid:!1,desc:document.querySelector("[name=name]").value,amount:document.querySelector("[name=amount]").value,category:document.querySelector("[name=category]").value,duedate:document.querySelector("[name=duedate]").value}),addBills.reset()}),getFromLocalStorage(),billsList.addEventListener("click",e=>{e.target.classList.contains("delete-button")&&deleteBill(e.target.parentElement.parentElement.getAttribute("data-key")),e.target.classList.contains("edit-button")&&console.log("is edit")});